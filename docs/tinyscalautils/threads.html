<html><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><title>tinyscalautils.threads</title><link rel="shortcut icon" type="image/x-icon" href="../favicon.ico"></link><script type="text/javascript" src="../scripts/theme.js"></script><script type="text/javascript" src="../scripts/searchData.js" defer="true"></script><script type="text/javascript" src="../scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="../styles/nord-light.css"></link><link rel="stylesheet" href="../styles/scalastyle.css"></link><link rel="stylesheet" href="../styles/colors.css"></link><link rel="stylesheet" href="../styles/dotty-icons.css"></link><link rel="stylesheet" href="../styles/diagram.css"></link><link rel="stylesheet" href="../styles/filter-bar.css"></link><link rel="stylesheet" href="../styles/code-snippets.css"></link><link rel="stylesheet" href="../styles/searchbar.css"></link><link rel="stylesheet" href="../styles/social-links.css"></link><link rel="stylesheet" href="../styles/ux.css"></link><link rel="stylesheet" href="../styles/versions-dropdown.css"></link><link rel="stylesheet" href="../styles/fontawesome.css"></link><script type="text/javascript" src="../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="../scripts/data.js" defer="true"></script><script>var pathToRoot = "../";</script></head><body><div id="container"><div id="leftColumn"><div id="logo"><span><div class="projectName">TinyScalaUtils</div></span><div id="version"><div class="versions-dropdown"><div onclick="dropdownHandler()" id="dropdown-button" class="dropdownbtn dropdownbtnactive"><div class="projectVersion">0.4.3</div><div id="dropdown-content" class="dropdown-content"><input type="text" placeholder="Search..." id="dropdown-input" onkeyup="filterFunction()"></input></div></div></div></div><div class="socials"></div></div><div id="paneSearch"></div><nav id="sideMenu2"><div class="ni expanded"><span class="nh expanded"><span class="ar"></span><a href="../docs/index.html"><span>TinyScalaUtils</span></a></span><div class="ni "><span class="nh "><a href="../docs/examples.html"><span>Code Examples</span></a></span></div><div class="ni expanded"><span class="nh expanded"><span class="ar"></span><a href="../index.html"><span>API</span></a></span><div class="ni "><span class="nh "><a href="assertions.html"><span class="micon pa"></span><span>tinyscalautils.assertions</span></a></span></div><div class="ni "><span class="nh "><a href="control.html"><span class="micon pa"></span><span>tinyscalautils.control</span></a></span></div><div class="ni "><span class="nh "><a href="io.html"><span class="micon pa"></span><span>tinyscalautils.io</span></a></span></div><div class="ni"><span class="nh "><span class="ar"></span><a href="lang.html"><span class="micon pa"></span><span>tinyscalautils.lang</span></a></span><div class="ni "><span class="nh "><a href="lang/InterruptibleConstructor.html"><span class="micon tr"></span><span>InterruptibleConstructor</span></a></span></div><div class="ni "><span class="nh "><a href="lang/InterruptibleEquality.html"><span class="micon tr"></span><span>InterruptibleEquality</span></a></span></div><div class="ni "><span class="nh "><a href="lang/StackOverflowException.html"><span class="micon cl"></span><span>StackOverflowException</span></a></span></div></div><div class="ni"><span class="nh "><span class="ar"></span><a href="text.html"><span class="micon pa"></span><span>tinyscalautils.text</span></a></span><div class="ni "><span class="nh "><a href="text/CharLetters$.html"><span class="micon ob"></span><span>CharLetters</span></a></span></div><div class="ni "><span class="nh "><a href="text/PrintingMode.html"><span class="micon tr"></span><span>PrintingMode</span></a></span></div><div class="ni "><span class="nh "><a href="text/StringLetters$.html"><span class="micon ob"></span><span>StringLetters</span></a></span></div></div><div class="ni expanded"><span class="nh selected expanded"><span class="ar"></span><a href="threads.html"><span class="micon pa"></span><span>tinyscalautils.threads</span></a></span><div class="ni "><span class="nh "><a href="threads/DelayedFuture$.html"><span class="micon ob"></span><span>DelayedFuture</span></a></span></div><div class="ni "><span class="nh "><a href="threads/Executors.html"><span class="micon cl"></span><span>Executors</span></a></span></div><div class="ni "><span class="nh "><a href="threads/Executors$.html"><span class="micon ob"></span><span>Executors</span></a></span></div><div class="ni "><span class="nh "><a href="threads/KeepThreadsFactory.html"><span class="micon cl"></span><span>KeepThreadsFactory</span></a></span></div><div class="ni "><span class="nh "><a href="threads/KeepThreadsFactory$.html"><span class="micon ob"></span><span>KeepThreadsFactory</span></a></span></div><div class="ni "><span class="nh "><a href="threads/MarkedThread.html"><span class="micon tr"></span><span>MarkedThread</span></a></span></div><div class="ni "><span class="nh "><a href="threads/MarkedThreadsFactory.html"><span class="micon cl"></span><span>MarkedThreadsFactory</span></a></span></div><div class="ni "><span class="nh "><a href="threads/MarkedThreadsFactory$.html"><span class="micon ob"></span><span>MarkedThreadsFactory</span></a></span></div><div class="ni "><span class="nh "><a href="threads/StoppableThread.html"><span class="micon cl"></span><span>StoppableThread</span></a></span></div><div class="ni "><span class="nh "><a href="threads/Timer.html"><span class="micon tr"></span><span>Timer</span></a></span></div></div><div class="ni"><span class="nh "><span class="ar"></span><a href="timing.html"><span class="micon pa"></span><span>tinyscalautils.timing</span></a></span><div class="ni "><span class="nh "><a href="timing/SlowIterator$.html"><span class="micon ob"></span><span>SlowIterator</span></a></span></div><div class="ni "><span class="nh "><a href="timing/SlowLazyList$.html"><span class="micon ob"></span><span>SlowLazyList</span></a></span></div><div class="ni "><span class="nh "><a href="timing/SlowSource$.html"><span class="micon ob"></span><span>SlowSource</span></a></span></div></div></div></div></nav></div><div id="main"><div id="leftToggler"><span class="icon-toggler"></span></div><div id="scaladoc-searchBar"></div><main id="main-content"><div class="breadcrumbs container"><a href="../docs/index.html">TinyScalaUtils</a>/<a href="../index.html">API</a>/<a href="threads.html">tinyscalautils.threads</a></div><div id="content"><div><div class="cover-header"><span class="micon pa"></span><h1>tinyscalautils.threads</h1></div><div class="signature monospace"><span class="annotations monospace"></span><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">package </span></span><a href="threads.html" class="documentableName ">tinyscalautils.threads</a><span></span></div></div><div class="cover"><div class="doc"></div><dl class="attributes"></dl></div><div class="documentableFilter"><div class="filterUpperContainer"><button class="filterToggleButton" data-test-id="filterToggleButton">
          <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button><input class="filterableInput" placeholder="Filter all members" data-test-id="filterBarInput"></input></div><div class="filterLowerContainer"></div></div><div class="membersList"><div class="tabs"><div class="names"><button data-togglable="Type members" class="tab selected">Type members</button><button data-togglable="Value members" class="tab selected">Value members</button><button data-togglable="Givens" class="tab selected">Givens</button><button data-togglable="Extensions" class="tab selected">Extensions</button></div><div class="contents"><div data-togglable="Type members" class="tab selected"><h2 data-togglable="Type members">Type members</h2><div class="documentableList"><h3 class="groupHeader">Classlikes</h3><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">object </span></span><a href="threads/DelayedFuture$.html" class="documentableName ">DelayedFuture</a><span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Implicit use of timers.</p>
</div><div class="cover"><div class="doc"><p>Implicit use of timers.</p>
</div><dl class="attributes"><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/Timer.scala#L77">Timer.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"><span data-unresolved-link="" t="t">@Immutable</span> </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">class </span></span><a href="threads/Executors.html" class="documentableName ">Executors</a><span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A factory for customized thread pools.</p>
</div><div class="cover"><div class="doc"><p>A factory for customized thread pools.</p>
<p>It makes it easier to specify a rejected execution handler (including <code>DiscardPolicy</code>) and/or a
thread factory (including <code>defaultThreadFactory</code>). Furthermore, cached thread pools are created
with a keepalive time of 1 second instead of 1 minute, which is useful in tests and demos that
cannot conveniently shut down a thread pool. Finally, thread pools are returned as instances of
<code>ExecutionContextExecutorService</code>, which makes them suitable for use with Java or Scala
constructs.</p>
<p>Instances of this class are created through the companion object, e.g.:</p>
<div class="snippet">
<pre><code>val f1 = Executors.silent
val f2 = Executors.silent.withFactory(tf)
</code></pre>
</div>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Companion:</dt><dd><a href="threads/Executors$.html">object</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/Executors.scala#L31">Executors.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">object </span></span><a href="threads/Executors$.html" class="documentableName ">Executors</a><span><span t="k"> extends </span><a href="threads/Executors.html" t="t">Executors</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Companion object.</p>
</div><div class="cover"><div class="doc"><p>Companion object.</p>
<p>It is itself an instance of <code>Executors</code> that uses the default rejected execution handler and
thread factory.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Companion:</dt><dd><a href="threads/Executors.html">class</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/Executors.scala#L130">Executors.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"><span data-unresolved-link="" t="t">@ThreadSafe</span> </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">class </span></span><a href="threads/KeepThreadsFactory.html" class="documentableName ">KeepThreadsFactory</a><span><span t="k"> extends </span><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadFactory.html" t="t">ThreadFactory</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A thread factory that keeps a reference on all the threads it creates.</p>
</div><div class="cover"><div class="doc"><p>A thread factory that keeps a reference on all the threads it creates.</p>
<p>The factory can be reset: threads created before the reset are discarded.</p>
<p>Instances of <code>KeepThreadsFactory</code> are thread-safe, and <code>allThreads</code> can be invoked while the
factory is still being used to create more threads.</p>
</div><dl class="attributes"><dt>See also:</dt><dd><div><div><p><a href="threads/MarkedThreadsFactory.html">MarkedThreadsFactory</a></p>
</div></div></dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Companion:</dt><dd><a href="threads/KeepThreadsFactory$.html">object</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/KeepThreadsFactory.scala#L21">KeepThreadsFactory.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">object </span></span><a href="threads/KeepThreadsFactory$.html" class="documentableName ">KeepThreadsFactory</a><span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Factory methods.</p>
</div><div class="cover"><div class="doc"><p>Factory methods.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Companion:</dt><dd><a href="threads/KeepThreadsFactory.html">class</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/KeepThreadsFactory.scala#L57">KeepThreadsFactory.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">trait </span></span><a href="threads/MarkedThread.html" class="documentableName ">MarkedThread</a><span><span t="k"> extends </span><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A marker trait for test threads.</p>
</div><div class="cover"><div class="doc"><p>A marker trait for test threads.</p>
<p>This can be used as a cheap alternative to <a href="threads/KeepThreadsFactory.html">KeepThreadsFactory</a> to keep track of threads
created by a factory, as a group.</p>
</div><dl class="attributes"><dt>See also:</dt><dd><div><div><p><span data-unresolved-link="">isMarkedThread</span></p>
</div></div></dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/MarkedThread.scala#L13">MarkedThread.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">class </span></span><a href="threads/MarkedThreadsFactory.html" class="documentableName ">MarkedThreadsFactory</a><span><span t="k"> extends </span><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadFactory.html" t="t">ThreadFactory</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A factory of marked threads.</p>
</div><div class="cover"><div class="doc"><p>A factory of marked threads.</p>
<p>The threads produced by this factory have the <a href="threads/MarkedThread.html">MarkedThread</a> marker and are named
<code>MarkedThread-&lt;count&gt;</code>.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Companion:</dt><dd><a href="threads/MarkedThreadsFactory$.html">object</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/MarkedThreadsFactory.scala#L13">MarkedThreadsFactory.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">object </span></span><a href="threads/MarkedThreadsFactory$.html" class="documentableName ">MarkedThreadsFactory</a><span><span t="k"> extends </span><a href="threads/MarkedThreadsFactory.html" t="t">MarkedThreadsFactory</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A default marked thread factory.</p>
</div><div class="cover"><div class="doc"><p>A default marked thread factory.</p>
</div><dl class="attributes"><dt>Companion:</dt><dd><a href="threads/MarkedThreadsFactory.html">class</a></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/MarkedThreadsFactory.scala#L26">MarkedThreadsFactory.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement"><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">trait </span></span><a href="threads/Timer.html" class="documentableName ">Timer</a><span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Simple timers.</p>
</div><div class="cover"><div class="doc"><p>Simple timers.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/Timer.scala#L20">Timer.scala</a></dd></dl></div></div></div></div></div></div><div class="documentableList"><h3 class="groupHeader">Deprecated classlikes</h3><div class="documentableElement"><div><span class="annotations monospace"><a href="https://scala-lang.org/api/3.x/scala/deprecated.html" t="t">@deprecated</a>("Uses Thread.stop, which is deprecated. No replacement.", "1.0") </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">class </span></span><a href="threads/StoppableThread.html" class="documentableName deprecated">StoppableThread</a><span>(<span t="k"></span><span t="k"></span>task: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html" t="t">Runnable</a>, <span t="k"></span>delay: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>, <span t="k"></span>logging: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>)(<span t="k">using </span><span t="k"></span>timer: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html" t="t">ScheduledExecutorService</a>)<span t="k"> extends </span><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A stoppable thread.</p>
</div><div class="cover"><div class="doc"><p>A stoppable thread.</p>
<p>These threads are forcefully <code>stopped</code> when not responding to interrupts.</p>
<p>If the thread is still alive <code>delay</code> seconds after having been interrupted, method <code>stop</code> is
invoked. Delay value cannot be negative.</p>
<p>Unless logging is turned off, killing is logged at <code>INFO</code> level in the <code>tinyscalautils.threads</code>
logger.</p>
<p>Note that this class uses method <code>Thread.stop</code>, which has been deprecated since Java 2.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Deprecated</dt><dd></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/StoppableThread.scala#L25">StoppableThread.scala</a></dd></dl></div></div></div></div></div></div></div><div data-togglable="Value members" class="tab selected"><h2 data-togglable="Value members">Value members</h2><div class="documentableList"><h3 class="groupHeader">Concrete methods</h3><div class="documentableElement" id="newThread-518"><a link="threads.html#newThread-518" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#newThread-518" class="documentableName ">newThread</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#U-0" t="t">U</a>](<span t="k"></span><span t="k"></span>name: <a href="https://scala-lang.org/api/3.x/scala/Predef$.html#String-0" t="t">String</a>, <span t="k"></span>start: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>, <span t="k"></span>daemon: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>)(<span t="k"></span><span t="k"></span>code: <span t="k">=&gt; </span><span t="t">U</span>): <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A Kotlin-like function to create threads.</p>
</div><div class="cover"><div class="doc"><p>A Kotlin-like function to create threads.</p>
<p>Empty names are ignored.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/newThread.scala#L11">newThread.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="newThread-29d"><a link="threads.html#newThread-29d" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#newThread-29d" class="documentableName ">newThread</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#U-0" t="t">U</a>](<span t="k"></span><span t="k"></span>code: <span t="k">=&gt; </span><span t="t">U</span>): <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A Kotlin-like function to create threads.</p>
</div><div class="cover"><div class="doc"><p>A Kotlin-like function to create threads.</p>
<p>This is the short form of <code>newThread</code> that uses default values.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/newThread.scala#L25">newThread.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="withContext-fffffdbf"><a link="threads.html#withContext-fffffdbf" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#withContext-fffffdbf" class="documentableName ">withContext</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#A-0" t="t">A</a>, <span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#Exec-0" t="t">Exec</a>](<span t="k"></span><span t="k"></span>exec: <span t="t">Exec</span>)(<span t="k"></span><span t="k"></span>code: <span t="t">Exec</span><span t="k"> =&gt; </span><a href="https://scala-lang.org/api/3.x/scala/concurrent/Future.html" t="t">Future</a>[<span t="t">A</span>]): <span t="t">A</span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Runs code within an implicit execution context, and waits for future completion.</p>
</div><div class="cover"><div class="doc"><p>Runs code within an implicit execution context, and waits for future completion.</p>
<p>For example:</p>
<div class="snippet">
<pre><code>withContext(ExecutionContext.global) {
   val f = Future { ... }
   val g = f.map(...)
   g.filter(...)
}
</code></pre>
</div>
<p>This construct waits for the future produced by the code to terminate. The execution context is
left as is.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/contexts.scala#L25">contexts.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="withLocalContext-3a7"><a link="threads.html#withLocalContext-3a7" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#withLocalContext-3a7" class="documentableName ">withLocalContext</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#A-0" t="t">A</a>, <span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#Exec-0" t="t">Exec</a><span t="k"> &lt;: </span><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html" t="t">ExecutorService</a>](<span t="k"></span><span t="k"></span>exec: <span t="t">Exec</span>)(<span t="k"></span><span t="k"></span>code: <span t="t">Exec</span><span t="k"> =&gt; </span><a href="https://scala-lang.org/api/3.x/scala/concurrent/Future.html" t="t">Future</a>[<span t="t">A</span>]): <span t="t">A</span></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Runs code within a temporary implicit execution context, and waits for future completion.</p>
</div><div class="cover"><div class="doc"><p>Runs code within a temporary implicit execution context, and waits for future completion.</p>
<p>For example:</p>
<div class="snippet">
<pre><code>withLocalContext(Executors.newThreadPool(3)) {
   val f = Future { ... }
   val g = f.map(...)
   g.filter(...)
}
</code></pre>
</div>
<p>This construct waits for the future produced by the code to terminate, shuts down the execution
context using <code>shutdown</code> and waits for the context to terminate. If interrupted while waiting,
method <code>shutdownNow</code> is called on the execution context.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/contexts.scala#L46">contexts.scala</a></dd></dl></div></div></div></div></div></div><div class="documentableList"><h3 class="groupHeader">Deprecated methods</h3><div class="documentableElement" id="newStoppableThread-fffff4fd"><a link="threads.html#newStoppableThread-fffff4fd" class="documentableAnchor"></a><div><span class="annotations monospace"><a href="https://scala-lang.org/api/3.x/scala/deprecated.html" t="t">@deprecated</a>("Uses Thread.stop, which is deprecated. No replacement.", "1.0") </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#newStoppableThread-fffff4fd" class="documentableName deprecated">newStoppableThread</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#U-0" t="t">U</a>](<span t="k"></span><span t="k"></span>delay: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>, <span t="k"></span>name: <a href="https://scala-lang.org/api/3.x/scala/Predef$.html#String-0" t="t">String</a>, <span t="k"></span>start: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>, <span t="k"></span>daemon: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>, <span t="k"></span>logging: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>)(<span t="k"></span><span t="k"></span>code: <span t="k">=&gt; </span><span t="t">U</span>): <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A Kotlin-like function to create stoppable threads.</p>
</div><div class="cover"><div class="doc"><p>A Kotlin-like function to create stoppable threads.</p>
<p>Empty names are ignored.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Deprecated</dt><dd></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/newThread.scala#L34">newThread.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="newStoppableThread-29d"><a link="threads.html#newStoppableThread-29d" class="documentableAnchor"></a><div><span class="annotations monospace"><a href="https://scala-lang.org/api/3.x/scala/deprecated.html" t="t">@deprecated</a>("Uses Thread.stop, which is deprecated. No replacement.", "1.0") </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#newStoppableThread-29d" class="documentableName deprecated">newStoppableThread</a><span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#U-0" t="t">U</a>](<span t="k"></span><span t="k"></span>code: <span t="k">=&gt; </span><span t="t">U</span>): <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A Kotlin-like function to create stoppable threads.</p>
</div><div class="cover"><div class="doc"><p>A Kotlin-like function to create stoppable threads.</p>
<p>This is the short form of <code>newStoppableThread</code> that uses default values.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Deprecated</dt><dd></dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/newThread.scala#L52">newThread.scala</a></dd></dl></div></div></div></div></div></div></div><div data-togglable="Givens" class="tab selected"><h2 data-togglable="Givens">Givens</h2><div class="documentableList"><h3 class="groupHeader">Givens</h3><div class="documentableElement" id="timeoutTimer-0" data-f-keywords="final,lazy"><a link="threads.html#timeoutTimer-0" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">given </span></span><a href="threads.html#timeoutTimer-0" class="documentableName ">timeoutTimer</a><span>: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html" t="t">ScheduledExecutorService</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>A single-thread timer.</p>
</div><div class="cover"><div class="doc"><p>A single-thread timer.</p>
<p>The thread is created in daemon mode.</p>
</div><dl class="attributes"><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/timeouts.scala#L144">timeouts.scala</a></dd></dl></div></div></div></div></div></div></div><div data-togglable="Extensions" class="tab selected"><h2 data-togglable="Extensions">Extensions</h2><div class="documentableList"><h3 class="groupHeader">Extensions</h3><div><span class="groupHeader"><span t="k">extension </span>(exec: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html" t="t">ExecutorService</a>)</span><div class="documentableElement" id="shutdownAndWait-dc4"><a link="threads.html#shutdownAndWait-dc4" class="documentableAnchor"></a><div><span class="annotations monospace"><a href="https://scala-lang.org/api/3.x/scala/throws.html" t="t">@throws</a>(scala.throws.$lessinit$greater$default$1[scala.InterruptedException]) </span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#shutdownAndWait-dc4" class="documentableName ">shutdownAndWait</a><span>(<span t="k"></span><span t="k"></span>seconds: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>, <span t="k"></span>force: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>): <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Shuts down the executor and waits for termination.</p>
</div><div class="cover"><div class="doc"><p>Shuts down the executor and waits for termination.</p>
<p>If the executor fails to terminate and <code>force</code> is set to true, invokes <code>shutdownNow</code>.</p>
</div><dl class="attributes"><dt>Value parameters:</dt><dd><dl class="attributes"><dt>seconds</dt><dd><p>timeout, in seconds.</p>
</dd></dl></dd><dt>Returns:</dt><dd><p>true if the executor terminates before the timeout.</p>
</dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/shutdown.scala#L24">shutdown.scala</a></dd></dl></div></div></div></div></div></div><div><span class="groupHeader"><span t="k">extension </span>[<span t="k"></span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#A-0" t="t">A</a>](future: <a href="https://scala-lang.org/api/3.x/scala/concurrent/Future.html" t="t">Future</a>[<a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#A-0" t="t">A</a>])</span><div class="documentableElement" id="completeOnTimeout-442"><a link="threads.html#completeOnTimeout-442" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#completeOnTimeout-442" class="documentableName ">completeOnTimeout</a><span>(<span t="k"></span><span t="k"></span>seconds: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>, <span t="k"></span>strict: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a>)(<span t="k"></span><span t="k"></span>fallbackCode: <span t="k">=&gt; </span><a href="https://scala-lang.org/api/3.x/tinyscalautils/threads.html#A-0" t="t">A</a>)(<span t="k">using </span><span t="k"></span>exec: <a href="https://scala-lang.org/api/3.x/scala/concurrent/ExecutionContext.html" t="t">ExecutionContext</a>, <span t="k"></span>timer: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html" t="t">ScheduledExecutorService</a>): <a href="https://scala-lang.org/api/3.x/scala/concurrent/Future.html" t="t">Future</a>[<span t="t">A</span>]</span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Adds a completeOnTimeout method similar to Java's
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completeOnTimeout-CompletableFuture.this.T-long-java.util.concurrent.TimeUnit-">java.util.concurrent.CompletableFuture#completeOnTimeout</a>.</p>
</div><div class="cover"><div class="doc"><p>Adds a completeOnTimeout method similar to Java's
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completeOnTimeout-CompletableFuture.this.T-long-java.util.concurrent.TimeUnit-">java.util.concurrent.CompletableFuture#completeOnTimeout</a>.</p>
<p>The new future has the same outcome, unless the computation times out. In that case, the
future is completed by executing the fallback code, passed by name. The fallback code runs in
the execution context (not the timer).</p>
<p>The <code>strict</code> flags controls the race between timeout and normal completion. If false, the
race is between normal completion and ''termination'' of the fallback code. In other words,
the fallback computation is initiated at the timeout, but the original computation can still
complete while the fallback code is running (in which case the fallback value is computed but
not used).</p>
<p>If true, the race is between normal completion and ''initiation'' of the fallback code. Once
the fallback code is started, its value will be used to complete the future, even if normal
completion of the initial task occurs in the meantime.</p>
</div><dl class="attributes"><dt>Value parameters:</dt><dd><dl class="attributes"><dt>fallbackCode</dt><dd><p>code to produce a fallback value in case of timeout.</p>
</dd><dt>seconds</dt><dd><p>timeout, in seconds.</p>
</dd><dt>timer</dt><dd><p>a scheduled executor used to complete the future after the timeout. For convenience,
<a href="threads.html#timeoutTimer-0">timeoutTimer</a> can be imported as a timer available implicitly.</p>
</dd></dl></dd><dt>Returns:</dt><dd><p>a future that completes either with the result of the initial future, or with the result of
the given computation in case of timeout</p>
</dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/timeouts.scala#L92">timeouts.scala</a></dd></dl></div></div></div></div></div><div class="documentableElement" id="orTimeout-8d6"><a link="threads.html#orTimeout-8d6" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#orTimeout-8d6" class="documentableName ">orTimeout</a><span>(<span t="k"></span><span t="k"></span>seconds: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>, <span t="k"></span>cancelCode: <span t="k">=&gt; </span><span data-unresolved-link="" t="t">Any</span>)(<span t="k">using </span><span t="k"></span>exec: <a href="https://scala-lang.org/api/3.x/scala/concurrent/ExecutionContext.html" t="t">ExecutionContext</a>, <span t="k"></span>timer: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html" t="t">ScheduledExecutorService</a>): <a href="https://scala-lang.org/api/3.x/scala/concurrent/Future.html" t="t">Future</a>[<span t="t">A</span>]</span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Adds a orTimeout method similar to Java's
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#orTimeout-long-java.util.concurrent.TimeUnit-">java.util.concurrent.CompletableFuture#orTimeout</a>.</p>
</div><div class="cover"><div class="doc"><p>Adds a orTimeout method similar to Java's
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#orTimeout-long-java.util.concurrent.TimeUnit-">java.util.concurrent.CompletableFuture#orTimeout</a>.</p>
<p>The new future has the same outcome, unless the computation times out. In that case, it is a
failed future with a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/TimeoutException.html">java.util.concurrent.TimeoutException</a>. An optional cancellation code
can be passed by name.</p>
</div><dl class="attributes"><dt>Value parameters:</dt><dd><dl class="attributes"><dt>cancelCode</dt><dd><p>arbitrary code to run on timeout; this is run ''after'' the future is failed, on the
execution context (not the timer); defaults to noOp.</p>
</dd><dt>seconds</dt><dd><p>timeout, in seconds.</p>
</dd><dt>timer</dt><dd><p>a scheduled executor used to cancel the future after the timeout, and to run the
cancellation code, if any. For convenience, <a href="threads.html#timeoutTimer-0">timeoutTimer</a> can be imported as a timer
available implicitly.</p>
</dd></dl></dd><dt>Returns:</dt><dd><p>a future that completes either with the result of the initial future, or with a
<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/TimeoutException.html">java.util.concurrent.TimeoutException</a>.</p>
</dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/timeouts.scala#L38">timeouts.scala</a></dd></dl></div></div></div></div></div></div><div><span class="groupHeader"><span t="k">extension </span>(thread: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a>)</span><div class="documentableElement" id="isMarkedThread-fffffbc2"><a link="threads.html#isMarkedThread-fffffbc2" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#isMarkedThread-fffffbc2" class="documentableName ">isMarkedThread</a><span>: <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Adds an <code>isMarkedThread</code> method to threads.</p>
</div><div class="cover"><div class="doc"><p>Adds an <code>isMarkedThread</code> method to threads.</p>
</div><dl class="attributes"><dt>See also:</dt><dd><div><div><p><a href="threads/MarkedThread.html">MarkedThread</a></p>
</div></div></dd><dt>Since:</dt><dd><p>1.0</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/MarkedThread.scala#L23">MarkedThread.scala</a></dd></dl></div></div></div></div></div></div><div><span class="groupHeader"><span t="k">extension </span>(thread: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" t="t">Thread</a>)</span><div class="documentableElement" id="joined-ffffffc9"><a link="threads.html#joined-ffffffc9" class="documentableAnchor"></a><div><span class="annotations monospace"></span></div><div class="header monospace"><div class="signature"><span class="modifiers"></span><span class="kind"><span t="k">def </span></span><a href="threads.html#joined-ffffffc9" class="documentableName ">joined</a><span>(<span t="k"></span><span t="k"></span>seconds: <a href="https://scala-lang.org/api/3.x/scala/Double.html" t="t">Double</a>): <a href="https://scala-lang.org/api/3.x/scala/Boolean.html" t="t">Boolean</a></span></div></div><div class="docs"><span class="modifiers"></span><div><div class="originInfo"></div><div class="memberDocumentation"><div class="documentableBrief doc"><p>Waits for thread termination.</p>
</div><div class="cover"><div class="doc"><p>Waits for thread termination.</p>
</div><dl class="attributes"><dt>Value parameters:</dt><dd><dl class="attributes"><dt>seconds</dt><dd><p>timeout, in seconds.</p>
</dd></dl></dd><dt>Returns:</dt><dd><p>true is thread terminates within time limit.</p>
</dd><dt>Source:</dt><dd><a href="https://github.com/charpov/TinyScalaUtils/blob/main/S/src/main/scala/tinyscalautils/threads/joined.scala#L16">joined.scala</a></dd></dl></div></div></div></div></div></div></div></div></div></div></div></div></div></main><footer><div id="generated-by"><span class="footer-text">Generated by</span><a href="https://github.com/lampepfl/dotty/tree/master/scaladoc"><img src="../images/scaladoc_logo.svg" alt="scaladoc" class="scaladoc_logo"></img><img src="../images/scaladoc_logo_dark.svg" alt="scaladoc" class="scaladoc_logo_dark"></img></a></div><span id="footer-text">Copyright Michel Charpentier, 2022</span><div class="socials"><span class="footer-text"></span></div><div class="mode"><span class="footer-text">Mode</span><label id="theme-toggle" class="switch"><input type="checkbox"></input><span class="slider"></span></label></div><span class="go-to-top-icon"><a href="#container"><span class="icon-vertical_align_top"></span><span class="footer-text">Back to top</span></a></span></footer></div></div></body></html>